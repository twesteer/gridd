@model IEnumerable<gridd.Models.Users>
<div class="container mt-5">
    <div class="row">
        <div class="col-md-12">
            <div class="card">
                <div class="card-header">
                    <h5 class="card-title">Регистрация</h5>
                </div>
                <form method="post" action="@Url.Action("AddUser", "Home")" id="registerForm">
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label for="fullNameUser">Никнейм</label>
                                    <input type="text" class="form-control" id="fullNameUser" name="fullNameUser" maxlength="50" required>
                                </div>
                                <div class="form-group">
                                    <label for="nameUser">Имя</label>
                                    <input type="text" class="form-control" id="nameUser" name="nameUser" pattern="[А-Яа-яЁё]+" maxlength="25" required>
                                </div>
                                <div class="form-group">
                                    <label for="patronymic">Отчество</label>
                                    <input type="text" class="form-control" id="patronymic" name="patronymic" pattern="[А-Яа-яЁё]+" maxlength="25" required>
                                </div>
                                <div class="form-group">
                                    <label for="age">Возраст</label>
                                    <input type="number" class="form-control" id="age" name="age" min="16" max="80" required>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label for="phone">Телефон</label>
                                    <input type="text" class="form-control" id="phone" name="phone" pattern="\d{11}" maxlength="11" required>
                                </div>
                                <div class="form-group">
                                    <label for="addressUser">Адрес</label>
                                    <input type="text" class="form-control" id="addressUser" name="addressUser" maxlength="50" required>
                                </div>
                                <div class="form-group">
                                    <label for="img">URL изображения</label>
                                    <input type="text" class="form-control" id="img" minlenght="10" maxlenght="100" name="img">
                                </div>
                                <div class="form-group">
                                    <label for="email">Электронная почта</label>
                                    <input type="email" class="form-control" id="email" name="email" maxlength="25" required>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="pass">Пароль</label>
                            <input type="password" class="form-control" id="pass" name="pass" required>
                        </div>
                        <div class="form-group">
                            <label for="countryId">Страна</label>
                            <select class="form-control" id="countryId" name="countryId" required>
                                @foreach (var country in ViewBag.Countries)
                                {
                                    <option value="@country.Id">@country.NameCountry</option>
                                }
                            </select>
                        </div>
                        <button type="submit" class="btn btn-primary">Зарегистрироваться</button>
                    </div>
                </form>
                <div class="card-footer text-muted">
                    <button type="button" class="btn btn-secondary" onclick="window.location.href='@Url.Action("StartPage", "Home")'">Закрыть</button>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    document.getElementById('registerForm').addEventListener('submit', function (event) {
        var valid = true;

        var fullNameUser = document.getElementById('fullNameUser').value;
        if (fullNameUser.length > 50) {
            alert('Никнейм должен содержать не более 50 символов.');
            valid = false;
        }

        var nameUser = document.getElementById('nameUser').value;
        if (!/^[А-Яа-яЁё]+$/.test(nameUser) || nameUser.length > 25) {
            alert('Имя должно содержать только русские буквы и не более 25 символов.');
            valid = false;
        }

        var patronymic = document.getElementById('patronymic').value;
        if (!/^[А-Яа-яЁё]+$/.test(patronymic) || patronymic.length > 25) {
            alert('Отчество должно содержать только русские буквы и не более 25 символов.');
            valid = false;
        }

        var age = document.getElementById('age').value;
        if (age < 16 || age > 80) {
            alert('Возраст должен быть от 16 до 80 лет.');
            valid = false;
        }

        var phone = document.getElementById('phone').value;
        if (!/^\d{11}$/.test(phone)) {
            alert('Телефон должен содержать 11 цифр.');
            valid = false;
        }

        var addressUser = document.getElementById('addressUser').value;
        if (addressUser.length > 50) {
            alert('Адрес должен содержать не более 50 символов.');
            valid = false;
        }

        var email = document.getElementById('email').value;
        if (email.length > 25) {
            alert('Электронная почта должна содержать не более 25 символов.');
            valid = false;
        }

        var pass = document.getElementById('pass').value;
        if (!/(?=.*\d)(?=.*[A-Z]).{8,}/.test(pass)) {
            alert('Пароль должен содержать хотя бы одну заглавную букву и одну цифру, и быть не менее 8 символов.');
            valid = false;
        }

        if (!valid) {
            event.preventDefault();
        }
    });
</script>
